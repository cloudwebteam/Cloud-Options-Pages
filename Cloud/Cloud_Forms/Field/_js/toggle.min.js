CloudField.on("init",function(e,t){var n=".field.type-toggle",r=e(n,t).add(t.filter(n));r.each(function(t){function c(t,r){var i=e();if(typeof t=="object")for(key in t){var u;if(typeof t[key]=="object")var a=c(t[key],key);else if(r)var a=s.find(".field_slug-"+r+" .subfield_slug-"+t[key]);else if(o)var a=n.parents(".group").find(".subfield_slug-"+t[key]);else var a=s.find(".field_slug-"+t[key]);i=i.add(a)}else if(t){var u;if(o)var a=n.parents(".group").find(".subfield_slug-"+t);else var a=s.find(".field_slug-"+t);i=i.add(a)}return i}function h(t,n){t.removeClass("toggled-off");t.each(function(){e(this).find('.input input[type="hidden"], .input input[type="text"], .input input[type="number"], .input textarea').each(function(){e(this).val(e(this).data("pretoggle-value"))});e(this).find('option[value="__toggled_off__"]').remove()});n?u?t.show("fast"):t.slideDown("fast"):t.show()}function p(t,n){t.addClass("toggled-off");t.each(function(){e(this).find('.input input[type="hidden"], .input input[type="text"], .input input[type="number"], .input textarea').each(function(){e(this).data("pretoggle-value",e(this).val());e(this).val("__toggled_off__")});e(this).find(".input select").each(function(){e(this).data("pretoggle-value",e(this).val());e(this).prepend('<option value="__toggled_off__" selected></option>');e(this).val("__toggled_off__")})});n?u?t.hide("fast"):t.slideUp("fast"):t.hide()}function d(e,t){var n=e.data("show"),r=e.data("hide"),i=c(n),s=c(r);l&&v(l,n,r,t);i.size()>0&&h(i,t);s.size()>0&&p(s,t);l=e}function v(e,t,n,r){if(!e)return;var s=e.data("show"),o=e.data("hide"),u=s,a=o;if(t&&s){u=[];for(i in s){var f=t.indexOf(s[i]);f==-1&&u.push(s[i])}}if(n&&o){a=[];for(i in o){var f=n.indexOf(o[i]);f==-1&&a.push(o[i])}}var l=c(a),d=c(u);l.size()>0&&h(l,r);d.size()>0&&p(d,r)}var n=e(this),s=n.parents(".section, .metabox"),o=n.parents(".field").size()>0,u=s.hasClass("table-layout"),a=n.find("input[name]"),f=n.find("select"),l=!1;if(a.size()>0){var m=a.attr("type");if(m=="checkbox"||m=="radio"){a.on("change",function(){var t=a.filter(":checked");t.size()>0?d(t,!0):v(e(this),!1,!1,!0)});a.each(function(){e(this).is(":checked")?d(e(this),!0):v(e(this),!1,!1,!1)});a.filter(":checked").each(function(){d(e(this),!1)})}else if(a.size()==1){var g=a;g.on("change",function(){g.val()!==""?d(g,!0):v(g,!1,!1,!0)});g.val()?d(g,!0):v(g,!1,!1,!0)}}else if(f.size()>0){f.on("change",function(){var e=f.find("option:selected");d(e,!0)});f.find("option").each(function(){e(this).is(":not(:selected)")&&d(e(this),!1)});f.find("option:selected").each(function(){d(e(this),!1)})}r.find("input, textarea, select").each(function(){e(this).data("name",e(this).attr("name"))})})});