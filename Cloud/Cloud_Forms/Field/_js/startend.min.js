CloudField.on("init",function(e,t){var n=".field.type-startend",r=e(n,t).add(t.filter(n));r.each(function(){function s(e,n){if(n){var r=e.hasClass(".start");if(r)var i=t.find(".start .timestamp"),s=t.find(".timepicker.start").data("timepicker"),o=t.find(".datepicker.start").data("datepicker");else var i=t.find(".end .timestamp"),s=t.find(".timepicker.end").data("timepicker"),o=t.find(".datepicker.end").data("datepicker");var u=o.selectedYear,a=o.selectedMonth,f=o.selectedDay,l=s.hour,c=s.minute,h=new Date(u,a,f,l,c),p=h.getTime()/1e3,d={date:p};i.val(JSON.stringify(d))}else{if(r)var i=t.find(".start .timestamp");else var i=t.find(".end .timestamp");i.val(e.val())}}var t=e(this);if(t.parents(".to-clone").size()>0)return!1;var n=t.find(".selector").data("field_type"),r=t.find(".datepicker"),i=t.find(".timepicker");r.each(function(){var n=e(this),r=n.hasClass("start"),i=n.data("dateformat");if(n.val())var s=new Date(n.val());else var s=!1;var o=t.find("input.datepicker.start"),u=t.find("input.datepicker.end"),a=n.siblings(".timestamp"),f=function(e,t){if(e){var i=t.selectedYear,s=t.selectedMonth,o=t.selectedDay,f=new Date(i,s,o),l=f.getTime()/1e3,c={date:l};a.val(JSON.stringify(c));if(r){u.datepicker("option","minDate",n.datepicker("getDate"));u.val()==""&&u.datepicker("setDate",n.datepicker("getDate"))}}else a.val("")};n.datepicker({dateFormat:i,onClose:f});s&&n.datepicker("setDate",s);r||u.datepicker("option","minDate",o.datepicker("getDate"))});i.each(function(r){var i=e(this),o=i.hasClass("start"),u=t.find(".timepicker.end");if(n!=="time")var a=function(e){s(i,!0);if(o){u.val()?u.datepicker("option","minDate",i.datepicker("getDate")):u.datepicker("setDate",i.datepicker("getDate"));s(u,!0)}};else var a=function(){s(i,!1)};e(this).timepicker({defaultTime:!1,showInputs:!1}).on("changeTime.timepicker",a)})})});